R\+B\+D\+L -\/ Rigid Body Dynamics Library Copyright (c) 2011-\/2015 Martin Felis \href{mailto:martin.felis@iwr.uni-heidelberg.de}{\tt martin.\+felis@iwr.\+uni-\/heidelberg.\+de}

\section*{Introduction }

R\+B\+D\+L is a highly efficient C++ library that contains some essential rigid body dynamics algorithms such as the Articulated Body Algorithm (A\+B\+A) for forward dynamics, Newton-\/\+Euler Algorithm for inverse dynamics and the Composite Rigid Body Algorithm (C\+R\+B\+A) for the efficient computation of the joint space inertia matrix. It further contains code for forward and inverse kinematics and handling of external constraints such as contacts and collisions.

The code was written by Martin Felis \href{mailto:martin.felis@iwr.uni-heidelberg.de}{\tt martin.\+felis@iwr.\+uni-\/heidelberg.\+de} and tightly follows the notation used in Roy Featherstone''s book \char`\"{}\+Rigid
\+Body Dynamics Algorithm\char`\"{}.

\section*{Recent Changes }


\begin{DoxyItemize}
\item 23 February 2015\+: New version 2.\+4.\+0\+:
\begin{DoxyItemize}
\item Added sparse range-\/space method Forward\+Dynamics\+Contacts\+Range\+Space\+Sparse() and Compute\+Contact\+Impulses\+Range\+Space\+Sparse()
\item Added null-\/space method Forward\+Dynamics\+Contacts\+Null\+Space() and Compute\+Contact\+Impulses\+Null\+Space()
\item Renamed Forward\+Dynamics\+Contacts\+Lagrangian() to Forward\+Dynamics\+Contacts\+Direct() and Compute\+Contact\+Impulses\+Lagrangian() to Compute\+Contact\+Impulses\+Direct()
\item Renamed Forward\+Dynamics\+Contacts() to Forward\+Dynamics\+Contacts\+Kokkevis()
\item Removed/\+Fixed Calc\+Angular\+Momentum(). The function produced wrong values. The functionality has been integrated into Calc\+Center\+Of\+Mass().
\item Calc\+Point\+Jacobian() does not clear the argument of the result anymore. Caller has to ensure that the matrix was set to zero before using this function.
\item Added optional workspace parameters for Forward\+Dynamics\+Lagrangian() to optionally reduce memory allocations
\item Added Joint\+Type\+Translation\+X\+Y\+Z, Joint\+Type\+Euler\+X\+Y\+Z, and Joint\+Type\+Euler\+Y\+X\+Z which are equivalent to the emulated multidof joints but faster.
\item Added optional parameter to Calc\+Center\+Of\+Mass to compute angular momentum.
\item Added Calc\+Body\+Spatial\+Jacobian()
\item Added Calc\+Contact\+Jacobian()
\item Added Nonlinear\+Effects()
\item Added solving of linear systems using standard Householder Q\+R
\item Lua\+Model\+: Added Lua\+Model\+Read\+From\+Lua\+State()
\item U\+R\+D\+F\+Reader\+: Fixed various issues and using faster joints for floating base models
\item Various performance improvements
\end{DoxyItemize}
\item 21 October 2014\+: New version 2.\+3.\+3\+:
\begin{DoxyItemize}
\item critical\+: fixed Forward\+Dynamics\+Contacts with constraints on a body that is attached with a fixed joint. Previous versions simply crashed. Thanks to Yue Hu for reporting!
\item rbdl\+\_\+print\+\_\+version() now properly prints whether U\+R\+D\+F\+Reader was enabled at build time
\item build system\+: fixed roblems especially building of the U\+R\+D\+Freader
\item build system\+: all C\+Make variables for R\+B\+D\+L are now prefixed with R\+B\+D\+L\+\_\+
\item Find\+R\+B\+D\+L.\+cmake now can use components to search for the Lua\+Model or U\+R\+D\+F\+Reader addon
\end{DoxyItemize}
\item 29 August 2014\+: New version 2.\+3.\+2\+:
\begin{DoxyItemize}
\item critical\+: fixed Forward\+Dynamics\+Lagrangian which used uninitialized values for the joint space inertia matrix (thanks to Benjamin Michaud!)
\item critical\+: fixed Forward\+Dynamics\+Contacts when using 3-\/dof joints
\item critical\+: fixed Calc\+Body\+World\+Orientation for fixed joints (thanks to Hilaro Tome!)
\item critical\+: fixed Composite\+Rigid\+Body\+Dynamics when using 3-\/dof joints (thanks to Henning Koch!)
\end{DoxyItemize}
\end{DoxyItemize}

13 July 2014\+: New version 2.\+3.\+1\+:
\begin{DoxyItemize}
\item critical\+: fixed angular momentum computation. Version 2.\+3.\+0 produced wrong results. (Thanks to Hilario Tome and Benjamin Michaud for reporting!)
\item critical\+: fixed Joint\+Type\+Euler\+Z\+Y\+X. Previous versions produce wrong results!
\item fixed library version number for the Lua\+Model addon.
\end{DoxyItemize}

14 March 2014\+: New version 2.\+3.\+0\+:
\begin{DoxyItemize}
\item Joint Space Inertia Matrix does not get cleared anymore when calling Composite\+Rigid\+Body\+Algorithm
\item using the default column-\/major ordering when using Eigen3
\item added experimental joint type Joint\+Type\+Euler\+Z\+Y\+X
\item added energy computations Utils\+::\+Calc\+Center\+Of\+Mass, Utils\+::\+Calc\+Potential\+Energy, Utils\+::\+Calc\+Kinetic\+Energy, and Utils\+::\+Calc\+Angular\+Momentum.
\item Updated U\+R\+D\+F loader for R\+O\+S Groovy/\+Hydro (thanks to Benjamin Chr√©tien!)
\end{DoxyItemize}

06 November 2013\+: New version 2.\+2.\+2\+: adjusted Body default constructor (inertia matrix now 3x3 identity instead of zero matrix)
\begin{DoxyItemize}
\item 04 November 2013\+: New version 2.\+2.\+1\+: fixed exported library version
\item 28 October 2013\+: New version 2.\+2.\+0\+: added support for spherical joints that do not suffer from joint singularities
\item 29 September 2013\+: New version 2.\+1.\+0\+: adjusted build settings and symbol export to be debian compatible. Removed vendor code such as Lua 5.\+2 and Unit\+Test++. Must be pre-\/installed if tests or Lua\+Model Addon is enabled.
\item 05 September 2013\+: New version 2.\+0.\+1\+: fixed some errors on older compilers and C\+Make configuration of examples. No changes required when migrating from 2.\+0.\+0.
\item 18 July 2013\+: A\+P\+I version 2.\+0.\+0\+: removed Eigen3 sources, removed Model\+::\+Init(), inverted sign of contact forces/impulses
\item 20 February 2013\+: removed too specialized Rigid\+Body\+Dynamics\+::\+Body constructor (A\+P\+I version 1.\+1.\+0)
\item 29 January 2013\+: added code for api\+\_\+version\+\_\+checking. Current A\+P\+I version is 1.\+0.\+0.
\item 11 January 2013\+: removed Eigen3 sources and relying on an already installed Eigen3 library. Optionally R\+B\+D\+L can be used with the included but slower Simple\+Math library.
\item 18 June 2012\+: added support of luamodel\+\_\+introduction
\item 01 June 2012\+: added support of joint\+\_\+models\+\_\+fixed
\item 14 May 2012\+: fixed Body constructor as reported by Maxime Reis
\item 04 April 2012\+: added benchmark tool for C\+R\+B\+A
\item 01 March 2012\+: added multi degree of freedom joint\+\_\+models
\item 06 Februry 2012\+: restructured constraint handling using Rigid\+Body\+Dynamics\+::\+Constraint\+Set
\item 24 January 2012\+: implemented compact and fast representation of Rigid\+Body\+Dynamics\+::\+Math\+::\+Spatial\+Transform
\end{DoxyItemize}

\section*{Documentation }

The documentation is contained in the code and can be extracted with the tool \href{http://www.doxygen.org}{\tt doxygen}.

To create the documentation simply run \begin{DoxyVerb}doxygen Doxyfile
\end{DoxyVerb}


which will generate the documentation in the subdirectory ./doc/html. The main page will then be located in ./doc/html/index.html.

An online version of the generated documentation can be found at \href{http://rbdl.bitbucket.org}{\tt http\+://rbdl.\+bitbucket.\+org}.

\section*{Getting R\+B\+D\+L }

The latest stable code can be obtained from \begin{DoxyVerb}https://bitbucket.org/rbdl/rbdl/get/default.zip
\end{DoxyVerb}


The official mercurial repository can be cloned from \begin{DoxyVerb}https://bitbucket.org/rbdl/rbdl
\end{DoxyVerb}


(See \href{http://mercurial.selenic.com}{\tt http\+://mercurial.\+selenic.\+com/} for mercurial clients.)

\section*{Building and Installation }

The R\+B\+D\+L is built using C\+Make (\href{http://www.cmake.org}{\tt http\+://www.\+cmake.\+org}). To compile the library in a separate directory in Release mode use\+: \begin{DoxyVerb}mkdir build
cd build/
cmake -D CMAKE_BUILD_TYPE=Release ../ 
make
\end{DoxyVerb}


For optimal performance it is highly recommended to install the Eigen3 linear algebra library from \href{http://eigen.tuxfamily.org}{\tt http\+://eigen.\+tuxfamily.\+org}. R\+B\+D\+L also comes with a simple, albeit much slower math library (Simple\+Math) that can be used by enabling {\ttfamily R\+B\+D\+L\+\_\+\+U\+S\+E\+\_\+\+S\+I\+M\+P\+L\+E\+\_\+\+M\+A\+T\+H}, i.\+e.\+: \begin{DoxyVerb}cmake -D RBDL_USE_SIMPLE_MATH=TRUE ../
\end{DoxyVerb}


\section*{Licensing }

The library is published under the very permissive zlib free software license which should allow you to use the software wherever you need.

This is the full license text (zlib license)\+: \begin{DoxyVerb}RBDL - Rigid Body Dynamics Library
Copyright (c) 2011-2015 Martin Felis <martin.felis@iwr.uni-heidelberg.de>

This software is provided 'as-is', without any express or implied
warranty. In no event will the authors be held liable for any damages
arising from the use of this software.

Permission is granted to anyone to use this software for any purpose,
including commercial applications, and to alter it and redistribute it
freely, subject to the following restrictions:

   1. The origin of this software must not be misrepresented; you must not
   claim that you wrote the original software. If you use this software
   in a product, an acknowledgment in the product documentation would be
   appreciated but is not required.

   2. Altered source versions must be plainly marked as such, and must not
   be misrepresented as being the original software.

   3. This notice may not be removed or altered from any source
   distribution.
\end{DoxyVerb}


\section*{Acknowledgements }

Work on this library was funded by the \href{http://hgs.iwr.uni-heidelberg.de/hgs.mathcomp/}{\tt Heidelberg Graduate School of Mathematical and Computational Methods for the Sciences (H\+G\+S)}, and the European F\+P7 projects \href{http://echord.eu}{\tt E\+C\+H\+O\+R\+D} (grant number 231143) and \href{http://koroibot.eu}{\tt Koroibot} (grand number 611909) 